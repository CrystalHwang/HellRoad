![image](./assets/Hell路.gif)

## 😈 Introduction

#### HELL 路는 **COVID-19 확진자가 나온 위치를 최대한 제외하여 도보 경로를 추천해주며 현재 위치가 확진자가 나온 위치와 가깝다면 경고 알람을 해주는 안드로이드 애플리케이션(Application**)입니다.

---

## 🔍 Contents

- Introduction
- Features
- Tech
- Motivation
- Duration and Process
- Challenges
- Things to do
- Links
- 프로젝트를 마치며

---

## 📱 Features

|                                     Feature                                     |                                 Image                                  |
| :-----------------------------------------------------------------------------: | :--------------------------------------------------------------------: |
|                    drawer navigator 적용하여 메뉴 이동 가능                     | <img src='./assets/splash_screen_and_draw_navigator.gif' width='300'/> |
|            marker로 표시 된 COVID-19 확진자가 나온 위치, clustering             |            <img src='./assets/clustering.gif' width='300'/>            |
|            대한민국 COVID-19 확진자 상황, 실시간 파악 가능한 상황판             |          <img src='./assets/COVID19_board.gif' width='300'/>           |
|         출발지 및 도착지 입력하여 위험 지역이 가장 적은, 최적 경로 안내         |             <img src='./assets/search.gif' width='300' />              |
| 현재 위치와 COVID-19 확진자가 나온 위치가 100m 내로 가까울 경우, 위험 신호 알림 |              <img src='./assets/alert.gif' width='300' />              |
|      위험 반경과 가깝더라도, 도착지에 도착하면 경고 사운드 대신 도착 알림       |             <img src='./assets/arrive.gif' width='300' />              |

---

## 💻 Tech

> Javascript

> React Native

> Expo

> React Redux

> React Navigation

> Cheerio for crawling COVID-19 Data

> APIs : Mapbox Directions API, MapQuest Directions API, T Map API, Google Geocoding API

---

## 🌸 Motivation

##### &nbsp; 2020년, COVID-19(이하 코로나 바이러스)가 우리의 일상을 크게 바꾸어 놓은 지 어느 덧 1년이 다 되어갑니다. 우리에게 당연했던 '안녕'이라는 말은 더 이상 당연하지 않게 되었고 마스크 없는 일상은 상상하기 어렵습니다.

##### HELL 路는 이러한 시의성을 고려하면서 건강한 걸음을 위해 기획된 애플리케이션입니다.

##### '안녕'이라는 뜻의 Hello와의 동음이의적 언어유희를 이용하여 만들어진 HELL 路.

##### 이름처럼 HELL 路를 피하고 안녕(安寧)을 찾기를 소망합니다.

---

## 📆 Duration and Process

- Duration

  - 2020.11.30 ~ 2020.12.19 (3 weeks ; 1 week idea + 2 weeks development)

- Process
  - [1주차] Idea 논의 및 기술 stack 검토
  - [2주차] API searching, 간단한 입력 창 등 구현하면서 draft 작업
  - [3주차] 크롤링, 위험 반경 진입 시 알림해주는 로직, 최적 경로 알고리즘 등 세부적인 작업

---

## 🌋 Challenges

### &nbsp; 1. COVID-19 확진자 관련 동선 및 위치 정보 데이터를 얻는 것

##### 처음 기획을 했을 때, COVID-19 확진자와 관련한 동선 및 위치 정보를 얻는 것이 어려울 것이라 생각하지 않았습니다. 정부에서 제공하는 관련 공공 데이터 API가 있었고 '당연'하게 확진자 위치 정보 또한 얻을 수 있을 것이라 생각했습니다. 실제로 API로부터 데이터를 받아보니 '개인정보'라는 이슈와 부딪혀야 했고 프로젝트를 구상했던 방향으로 이끌어가기 어려웠습니다.

##### 결국, '코로나맵'의 데이터를 Mock data로 만들어 진행하였습니다. 이 부분이 이번 프로젝트를 진행하며 가장 아쉬운 부분 중 하나입니다. 확진자 위치 정보를 실시간으로 제공받을 수 있다면 개발하는 동안 훨씬 흥미롭게 작업할 수 있었을 것 같습니다.

---

### &nbsp; 2. Google Directions API의 '한국' 경로 미지원 및 카카오 네이버 등 '도보' 경로 미지원

##### 여러 Map API가 존재하기 때문에 다양한 '도보'경로를 얻는 것에서 헤매게 될 지 몰랐습니다. 하지만, 예상과 다르게 프로젝트를 진행하면서 가장 힘들었던 부분이 이 부분이었습니다. 다양한 기능을 제공해 가장 기대가 컸던 Google Directions API는 '한국'에서의 경로 안내를 지원하지 않았고 한국 지도 서비스에서 절대적 우위를 점하고 있는 카카오, 네이버에서 제공하는 API는 '도보'경로 안내를 지원하지 않았습니다. 이 사실을 인지 하였을 때, 크게 당황했고 프로젝트 아이디어를 바꿔야하나 고민을 했던 것 같습니다.

##### 결론적으로 **Mapbox**, Mapquest, T map의 API를 통해서 다양한 도보 경로를 얻을 수 있게 되었습니다. 하지만, 이 과정에서 시간이 오래 걸려 아쉬웠습니다.

---

### &nbsp; 3. React Native를 처음 다루면서 마주하는 어려움

##### 웹을 다루면서 한번도 고민하지 않았던 부분들을 마주하게 되었습니다. 기본적으로 애플리케이션이 작동하는 원리에 대해 잘 알지 못했기 때문에 어려웠습니다. 특히, 'Navigator'를 다루면서 당황스러운 일이 잦았던 것 같습니다. 크게 drawer navigator와 stack navigator를 사용하였는데 stack navigator 위에서 screen들이 쌓이면서 예상과 다르게 작동하는 부분이 힘들었습니다. component로 분리시켜 놓은 map을 재사용하니, stack에 쌓여있는 다른 screen의 map이 있어서 제가 예상하는 것과 다르게 작동하였습니다.

##### 이 부분은 다른 screen이 쌓일 때, 기존 screen의 component를 숨길 수 있도록 아래와 같이 처리하여 해결하였습니다.

```js
useFocusEffect(
  useCallback(() => {
    setIsShow(true);

    return () => {
      setIsShow(false);
    };
  }, [])
);
```

---

### &nbsp; 4. 여러 경로 중, 최적의 경로를 추천하는 algorithm 구상

##### 여러 API로 부터 받은 다양한 경로 중에 위험한 위치를 최소로 만나는, 경로를 추천하는 algorithm을 구상하는 것은 기획 때 부터 가장 어렵고 시간이 오래 걸릴 것으로 예상되는 task였습니다.

##### 막연하게 생각했었던 추천 알고리즘은 각 intersection의 위도, 경도 값을 알고 있으면 출발지와 도착지까지의 경로를 추천하는 것이었습니다. 그런데 자료를 조사하고 프로젝트를 진행시키면서 모든 intersection의 위도, 경도를 알 수 있다는 전제가 잘 못 되었다는 것을 알게 되었습니다.

##### 그 후, API들로 부터 받아온 경로에 관한 정보를 보면서 이 정보들을 최대한 활용하면서도 지도 위에 마킹 된 위험한 지역을 최소한으로 만나는 최적 경로를 어떻게 추천할 수 있을까 오랜시간 고민했습니다.

##### 고민 끝에, 경로별로 상하좌우 4극점을 찾아 'bounding box'를 만들었습니다. 그리고 이 박스 안에 들어오는 위험한 지역의 개수가 최소가 되는 경로를 추천해주기로 하였습니다. 위 아이디어가 완벽한 추천 로직은 아니여도 API에서 받아오는 값들을 최대한 활용하면서도 프로젝트의 현실적인 한계들과 적절히 타협한, 최선의 추천 로직이라고 생각합니다.

---

## 📂 Things to do

##### &nbsp; 1. test (예정)

##### &nbsp; 2. 배포 (예정)

##### &nbsp; 3. 여러 API를 사용하기 때문에 경로를 띄우는 과정에서 시간이 굉장히 지체되는 현상이 있습니다. 이 부분을 어떻게 개선할 수 있을지 고민해보고 적용하고 싶습니다.

##### &nbsp; 4. 현재, COVID-19 위험 지역을 토대로 도보 경로를 추천해주고 있습니다. 하지만, '우범지역' 관련 데이터를 얻을 수 있다면 이와 관련하여서도 안전한 경로 추천을 해 애플리케이션을 좀 더 확장해보고 싶습니다.

---

## 🌈 Links

- [Github - https://github.com/CrystalHwang/HellRoad](https://github.com/CrystalHwang/HellRoad)

- [Mockup in Moqups](https://app.moqups.com/mCP1VFSvKB/view/page/ae8fe8eb0)

- [Tasks in Notion](https://www.notion.so/c2df7d3f95424aebb3eb0b582f1ab1fe?v=cbf12f77ead74034b6581b33ac95d5ef&p=fa0b47be1ab9450186fe7d593479e057)

---

## 🦋 프로젝트를 마치며...

##### 프로젝트 기간은 과제를 제출하던 것과 다르게 기획부터 모든 것에 제 손이 닿아야하는 부담감과 생각하는 것을 구현해볼 수 있는 흥미로움이 공존하는 기간이었던 것 같습니다.

##### 특히, 이번 프로젝트는 ‘새로운’ 것을 어려워 했던 제 자신을 조금이나마 극복할 수 있는 좋은 경험이었다고 생각합니다. React Native에 도전한 것과 Crawling이 필요해 알아보며 적용시켜 본 부분 등 과제를 할 때와 다르게 새로운 것에 대한 두려움을 떨치고 도전 해보았습니다. 앞으로 낯선 것을 마주할 때, 덜 어려워할 수 있는 계기가 될 것 같습니다.

##### 18주 간의 마지막 과정인, 2차 프로젝트를 마친 것이 실감이 나질 않습니다. 18주 전의 ‘나’와 지금의 ‘나’를 비교해보자면 겨우 자바스크립트 문법 정도 알던 제가 프로젝트를 해 내었다는게 놀랍기도 합니다. 하지만, 혼자였다면 절대로 이 만큼 성장할 수 없었을 것입니다. 과제를 하는 동안에도, 프로젝트를 해오는 과정에도 켄님을 비롯한 멘토님들, 동기들의 도움을 많이 받았습니다. 2차 프로젝트를 마치며 그리고 부트캠프 과정을 마무리하며, 모두에게 감사하다는 인사를 전합니다. 감사합니다.
